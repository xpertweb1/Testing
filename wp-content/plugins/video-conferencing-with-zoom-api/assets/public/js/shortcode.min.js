"use strict";!function(n){var e={init:function(){this.cacheDOM(),this.defaultActions()},cacheDOM:function(){if(this.$wrapper=n(".vczapi-user-meeting-list"),void 0===this.$wrapper||this.$wrapper.length<1)return!1},defaultActions:function(){this.$wrapper.DataTable({responsive:!0})}},t={init:function(){this.cacheDOM(),this.evntHandlers()},cacheDOM:function(){this.$taxonomyOrder=n(".vczapi-taxonomy-ordering"),this.$orderType=n(".vczapi-ordering")},evntHandlers:function(){this.$taxonomyOrder.on("change",this.taxOrdering.bind(this)),this.$orderType.on("change",this.upcomingLatest.bind(this))},taxOrdering:function(e){n(e.currentTarget).closest("form").submit()},upcomingLatest:function(e){n(e.currentTarget).closest("form").submit()}},i={init:function(){this.cacheDOM(),this.evntHandlers()},cacheDOM:function(){this.$recordingsDatePicker=n(".vczapi-check-recording-date")},evntHandlers:function(){n(document).on("click",".vczapi-view-recording",this.openModal.bind(this)),n(document).on("click",".vczapi-modal-close",this.closeModal.bind(this)),0<n(".vczapi-recordings-list-table").length&&n(".vczapi-recordings-list-table").DataTable({responsive:!0,order:[3,"desc"],columnDefs:[{orderable:!1,targets:[2,5]}]}),0<n(this.$recordingsDatePicker).length&&this.$recordingsDatePicker.datepicker({changeMonth:!0,changeYear:!0,showButtonPanel:!0,dateFormat:"MM yy",beforeShow:function(e,t){setTimeout(function(){t.dpDiv.css({top:n(".vczapi-check-recording-date").offset().top+35,left:n(".vczapi-check-recording-date").offset().left})},0)}}).focus(function(){var i=n(this);n(".ui-datepicker-calendar").detach(),n(".ui-datepicker-close").click(function(){var e=n("#ui-datepicker-div .ui-datepicker-month :selected").val(),t=n("#ui-datepicker-div .ui-datepicker-year :selected").val();i.datepicker("setDate",new Date(t,e,1))})})},closeModal:function(e){e.preventDefault(),n(".vczapi-modal-content").remove(),n(".vczapi-modal").hide()},openModal:function(e){e.preventDefault();e={recording_id:n(e.currentTarget).data("recording-id"),action:"get_recording",downlable:vczapi_ajax.downloadable};n(".vczapi-modal").html('<p class="vczapi-modal-loader">'+vczapi_ajax.loading+"</p>").show(),n.get(vczapi_ajax.ajaxurl,e).done(function(e){n(".vczapi-modal").html(e.data).show()})}};n(function(){t.init(),e.init(),i.init()})}(jQuery);