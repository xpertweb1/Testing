{"version":3,"sources":["admin.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","window","addEventListener","document","querySelector","tabs","querySelectorAll","switchTab","up_buttons","moveRowUp","down_buttons","moveRowDown","event","preventDefault","classList","remove","clickedTab","currentTarget","activePaneID","target","getAttribute","add","row","this","parentNode","table","sibling","previousElementSibling","childNodes","tagName","parentElement","eventWrapper","insertBefore","updatePositions","removeEventListener","setTimeout","firstChild","nextElementSibling","rows","slice","positions","forEach","textContent","getElementById","value","style","display","jQuery","ready","$","on","$button","file_frame","wp","media","frames","title","library","type","button","text","multiple","attachment","state","get","first","toJSON","siblings","val","url","open"],"mappings":"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","file":"admin.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nwindow.addEventListener(\"load\", function () {\n\n    // check if tfaf page\n    var wrapper = document.querySelector(\"div.tfaf_admin_wrapper\");\n\n    if (!wrapper) {\n        return;\n    }\n\n    //store tabs\n    var tabs = document.querySelectorAll(\"ul.nav-tabs > li\");\n    var i = 0;\n    for (i = 0; i < tabs.length; i++) {\n        tabs[i].addEventListener(\"click\", switchTab);\n    }\n\n    function switchTab(event) {\n        event.preventDefault();\n\n        document.querySelector(\"ul.nav-tabs li.active\").classList.remove(\"active\");\n        document.querySelector(\".tab-pane.active\").classList.remove(\"active\");\n\n        var clickedTab = event.currentTarget;\n        var anchor = event.target;\n        var activePaneID = anchor.getAttribute(\"href\");\n\n        clickedTab.classList.add(\"active\");\n        document.querySelector(activePaneID).classList.add(\"active\");\n    }\n\n    var up_buttons = document.querySelectorAll(\"button.up_button\");\n    for (i = 0; i < up_buttons.length; i++) {\n        up_buttons[i].addEventListener(\"click\", moveRowUp);\n    }\n\n    function moveRowUp() {\n        var row = this.parentNode.parentNode,\n            table = row.parentNode,\n            sibling = row.previousElementSibling,\n            nextTagName = sibling.childNodes[0].tagName;\n\n        if (!(nextTagName === \"TH\")) {\n            this.parentNode.parentElement.classList.add(\"hide\");\n\n            row.addEventListener('transitionend', function eventWrapper() {\n                table.insertBefore(row, sibling);\n                updatePositions(table);\n                row.removeEventListener('transitionend', eventWrapper, false);\n                setTimeout(function () {\n                    row.firstChild.parentElement.classList.remove(\"hide\");\n                }, 200);\n            }, false);\n        }\n    }\n\n    var down_buttons = document.querySelectorAll(\"button.down_button\");\n    for (i = 0; i < down_buttons.length; i++) {\n        down_buttons[i].addEventListener(\"click\", moveRowDown);\n    }\n\n    function moveRowDown() {\n        var row = this.parentNode.parentNode,\n            sibling = row.nextElementSibling,\n            table = row.parentNode;\n\n        if (sibling != null) {\n            this.parentNode.parentElement.classList.add(\"hide\");\n\n            row.addEventListener('transitionend', function eventWrapper() {\n                table.insertBefore(sibling, row);\n                updatePositions(table);\n                row.removeEventListener('transitionend', eventWrapper, false);\n                setTimeout(function () {\n                    row.firstChild.parentElement.classList.remove(\"hide\");\n                }, 100);\n            }, false);\n        }\n    }\n\n    function updatePositions(table) {\n        var rows = [].slice.call(table.childNodes, 1);\n        var positions = '';\n        rows.forEach(function (rows) {\n            return positions += rows.childNodes[0].textContent + \"-\";\n        });\n        document.getElementById(\"tfaf_menu_positions\").value = positions;\n\n        // Change table heading\n        table.childNodes[0].childNodes[0].textContent = \"Old Position\";\n\n        // Activate save order button\n        document.getElementById('tfaf-button-save-order').style.display = \"inline\";\n    }\n});\n\njQuery(document).ready(function ($) {\n\n    $(document).on('click', '.js-image-upload', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n\n        var file_frame = wp.media.frames.file_frame = wp.media({\n            title: 'Select or upload an Image',\n            library: {\n                type: 'image'\n            },\n            button: {\n                text: 'Select Image'\n            },\n            multiple: false\n        });\n\n        file_frame.on('select', function () {\n            var attachment = file_frame.state().get('selection').first().toJSON();\n            $button.siblings('.image-upload').val(attachment.url);\n        });\n\n        file_frame.open();\n    });\n});\n\n},{}]},{},[1]);\n"]}