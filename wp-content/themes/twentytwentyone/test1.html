<?php
 /*Template Name: Test */
 
get_header(); 

<div id="primary">
    <div id="content" role="main">
		<div id="container" onload="initialize()">

      <?php while ( $loop->have_posts() ) : $loop->the_post();?>	<?php endwhile; ?>
        <article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
         <!-- New Post Form -->
?>
<script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIwzALxUPNbatRBj3Xi1Uhp0fFzwWNBkE&callback=initMap&libraries=&v=weekly"
      async
    ></script>
 <script type="text/javascript" src="google_dynamic_map.js"></script>
 <script>
// google_dynamic_map.js file
// Map Initialize function
function initialize()
{
 // Set static latitude, longitude value
 var latlng = new google.maps.LatLng(37.7699298, -122.4469157);
 // Set map options
 var myOptions = {
 zoom: 16,
 center: latlng,
 panControl: true,
 zoomControl: true,
 scaleControl: true,
 mapTypeId: google.maps.MapTypeId.ROADMAP
 }
 // Create map object with options
 map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
 // Create and set the marker
 marker = new google.maps.Marker({
 map: map,
 draggable:true,
 position: latlng
 });
 
 // Register Custom "dragend" Event
 google.maps.event.addListener(marker, 'dragend', function() {
 
 // Get the Current position, where the pointer was dropped
 var point = marker.getPosition();
 // Center the map at given point
 map.panTo(point);
 // Update the textbox
 document.getElementById('txt_latlng').value=point.lat()+", "+point.lng();
 });
}
 </script>
 </head>
 <body onload="initialize();">
 Latitude, Longitude <input type="text" value="37.7699298, -122.4469157" name="txt_latlng" id="txt_latlng" style="width:480px;">
 <div id="map_canvas" style="width:600px;height:400px;border:solid black 1px;"></div>
 </body>
<?php get_footer(); ?>
